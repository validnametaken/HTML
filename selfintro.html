<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Enables fullscreen when launched from Home Screen -->
<meta name="apple-mobile-web-app-capable" content="yes">
<!-- Optional: control the status bar style -->
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<!-- Optional: custom name shown on the Home Screen -->
<meta name="apple-mobile-web-app-title" content="Andy's Self Introduction">

    <title>Andy Self Introduction</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Alata&display=swap">
    <style>
        /* #region =============== Background =============== */

        @font-face {
            font-family: 'Alata';
            src: url('selfintro/Alata-Regular.ttf') format('truetype');
            font-weight: 400;
            font-style: normal;
            font-display: swap;
        }

        body {
            margin: auto;
            font-family: "Alata", -apple-system, BlinkMacSystemFont, sans-serif;
            overflow: auto;
            background: linear-gradient(315deg, rgba(101, 0, 94, 1) 3%, rgb(13, 28, 43) 38%, rgb(11, 53, 50) 68%, rgb(70, 8, 8) 98%);
            animation: gradient 200s ease infinite;
            background-size: 400% 400%;
            background-attachment: fixed;
        }

        @keyframes gradient {
            0% {
                background-position: 0% 0%;
            }

            50% {
                background-position: 100% 100%;
            }

            100% {
                background-position: 0% 0%;
            }
        }

        /*#endregion*/
        /* #region =============== Slides =============== */
        html {
            font-size: 10px;
            color: #ffffff;
        }

        h1 {
            font-size: 4rem;
            /* 40px */
        }

        h2 {
            font-size: 3rem;
            /* 30px */
        }

        h3 {
            font-size: 2.5rem;
            /* 25px */
        }

        p {
            font-size: 2rem;
            /* 20px */
        }

        .slideshow {
            position: relative;
            width: 100vw;
            height: 100vh;
            border: none;
        }

        .slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: transparent;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            transition: opacity 0.5s ease-in-out;
            padding: 0px;
            box-sizing: border-box;
            gap: 30px;
        }


        body {
            margin: 0;
            padding: 0;
        }

        h1,
        p {
            margin: 0;
            line-height: 1;
        }

        .slide.active {
            display: flex;
        }

        .hidden {
            opacity: 0;
        }

        .reveal-text {
            transition: opacity 0.5s ease-in-out;
        }

        /*#endregion*/
        /* #region =============== Waves =============== */

        .wave {
            background: rgb(255 255 255 / 5%);
            border-radius: 1000% 1000% 0 0;
            position: fixed;
            width: 200%;
            height: 12em;
            animation: wave 30s -3s linear infinite;
            transform: translate3d(0, 0, 0);
            opacity: 0.8;
            bottom: 0;
            left: 0;
            z-index: -2;
        }

        .wave:nth-of-type(2) {
            bottom: -1.25em;
            animation: wave 18s linear reverse infinite;
            opacity: 0.8;
        }

        .wave:nth-of-type(3) {
            bottom: -2.5em;
            animation: wave 20s -1s reverse infinite;
            opacity: 0.9;
        }

        @keyframes wave {
            2% {
                transform: translateX(1);
            }

            25% {
                transform: translateX(-25%);
            }

            50% {
                transform: translateX(-50%);
            }

            75% {
                transform: translateX(-25%);
            }

            100% {
                transform: translateX(1);
            }
        }

        /*#endregion*/
        /* #region =============== Comparison =============== */

        .comparison-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width: 100vw;
    max-width: 100vw;
    padding: 3vw 2vw;
    box-sizing: border-box;
    gap: 1vw;
        }

        .comparison-question {
    font-size: 5vw;
    margin-bottom: 4vw;
            color: #ffffff;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .country-comparison {
    display: flex;
    flex-direction: row;
    gap: 5vw;
    width: 100%;
    justify-content: center;
    align-items: flex-start;
        }

        .country-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1vw; /* Space between name and flag */
    min-width: 0;
        }


        .country-name {
    height: auto;
    font-size: 3vw;
    min-width: 0;
        }

        .country-flag {
    width: 18vw;
    height: 11vw;
    min-width: 80px;
    min-height: 50px;
    max-width: 200px;
    max-height: 120px;
            object-fit: cover;
            border: 3px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.2);
        }

        .vs-badge {
    font-size: 3vw;
    padding: 1vw 2vw;
            font-weight: bold;
            color: #ffffff;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.1);
        }


.highlight {
    display: inline-block;
    transition: transform 0.5s ease;
}

        .country-card:nth-child(1) .highlight {
            animation: grow 10s infinite;
        }

        .country-card:nth-child(3) .highlight {
            animation: shrink 10s infinite;
        }

@keyframes grow {
    0%, 100% {
        transform: scale(1);
        opacity: 0.7;
    }
    50% {
        transform: scale(1.5);
        opacity: 1;
    }
}

@keyframes shrink {
    0%, 100% {
        transform: scale(1.5);
        opacity: 1;
    }
    50% {
        transform: scale(1);
        opacity: 0.7;
    }
}

        /*#endregion*/
        /* #region =============== Thought bubbles =============== */

        .thought-bubble,
        .japan-flag,
        .thought-container {
            pointer-events: none;
        }


        #slide13 {
            pointer-events: auto;
        }


        #slide13>* {
            pointer-events: none;
        }


.thought-container {
    position: relative;
    width: 100vw;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
}

.thought-bubble {
    position: absolute;
    width: 35vw;
    height: 40vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}

        .thought-bubble svg {
            width: 100%;
            height: 100%;
        }

        .bubble-path {
            fill: rgba(255, 255, 255, 0.1);
            stroke: rgba(255, 255, 255, 0.5);
            stroke-width: 2;
        }

        .thought-bubble span {
            position: absolute;
            color: white;
            font-size: 2rem;
            text-align: center;
        }

.top-left {
    top: 10%;
    left: 1%;
    transform: translateY(-20%);
}
.top-right {
    top: 10%;
    right: 1%;
    transform: translateY(-20%);
}
.bottom-left {
    bottom: 10%;
    left: 1%;
    transform: translateY(20%);
}
.bottom-right {
    bottom: 10%;
    right: 1%;
    transform: translateY(20%);
}

        .japan-flag {
            width: 20%;
            /* Changed from 300px */
            height: 45%;
            /* Changed from 200px */
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: -50px;
            /* Adjust this value to move the flag higher */
        }


        .japan-flag img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .denmark-flag {
            width: 20%;
            /* Changed from 300px */
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: -50px;
            /* Adjust this value to move the flag higher */
        }


        .denmark-flag img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .bubble-path {
            fill: rgba(255, 255, 255, 0.1);
            /* Very light white with high transparency */
            stroke: rgba(255, 255, 255, 0.5);
            /* White outline */
            stroke-width: 2;
        }

        /*#endregion*/
        /* #region =============== Questions effect =============== */
        /* Selection styling */
        ::-moz-selection {
            background: #009688;
            color: #000;
        }

        ::selection {
            background: #009688;
            color: #000;
        }

        /* Questions animation styling */
        #slide22 {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #slide22>div {
            text-align: center;
            width: 100%;
            margin-top: 40vh;
        }

        #slide22 span.questions {
            display: inline-block;
            color: #00796B;
            font-size: 8vw;
            transform-origin: 50% 70%;
        }



        /* Media queries after base styles */
        @media screen and (min-width: 400px) {
            #slide22 span.questions {
                font-size: 8vw;
            }
        }

        @media screen and (min-width: 600px) {
            #slide22 span.questions {
                font-size: 9vw;
            }
        }

        @media screen and (min-width: 916px) {
            #slide22 span.questions {
                font-size: 10vw;
            }
        }


        span.questions:nth-child(2n) {
            color: #009688;
        }

        /* Animation timing for each letter */
        span.questions:nth-child(1) {
            animation: flipUp 1s cubic-bezier(0.68, -0.55, 0.26, 1.55) .2s both;
        }

        span.questions:nth-child(2) {
            animation: flipUp 1s cubic-bezier(0.68, -0.55, 0.26, 1.55) .4s both;
        }

        span.questions:nth-child(3) {
            animation: flipUp 1s cubic-bezier(0.68, -0.55, 0.26, 1.55) .6s both;
        }

        span.questions:nth-child(4) {
            animation: flipUp 1s cubic-bezier(0.68, -0.55, 0.26, 1.55) .8s both;
            padding: 0 2vw;
        }

        span.questions:nth-child(5) {
            animation: flipUp 1s cubic-bezier(0.68, -0.55, 0.26, 1.55) 1s both;

        }

        span.questions:nth-child(6) {
            animation: flipUp 1s cubic-bezier(0.68, -0.55, 0.26, 1.55) 1.2s both;
        }

        span.questions:nth-child(7) {
            animation: flipUp 1s cubic-bezier(0.68, -0.55, 0.26, 1.55) 1.4s both;
        }

        span.questions:nth-child(8) {
            animation: flipUp 1s cubic-bezier(0.68, -0.55, 0.26, 1.55) 1.6s both;
        }

        span.questions:nth-child(9) {
            animation: flipUp 1s cubic-bezier(0.68, -0.55, 0.26, 1.55) 1.8s both;
        }

        span.questions:nth-child(10) {
            animation: flipUp 1s cubic-bezier(0.68, -0.55, 0.26, 1.55) 2.0s both;
        }

        span.questions:nth-child(11) {
            animation: flipUp 1s cubic-bezier(0.68, -0.55, 0.26, 1.55) 2.2s both;
        }

        span.questions:nth-child(12) {
            animation: flipUp 1s cubic-bezier(0.68, -0.55, 0.26, 1.55) 2.4s both;
        }

        span.questions:nth-child(13) {
            animation: flipUp 1s cubic-bezier(0.68, -0.55, 0.26, 1.55) 2.6s both;
        }

        span.questions:nth-child(14) {
            animation: flipUp 1s cubic-bezier(0.68, -0.55, 0.26, 1.55) 2.8s both;
        }


        @keyframes flipUp {
            from {
                transform: rotateX(90deg);
            }

            to {
                transform: rotateX(0deg);
            }

        }

        .hidden-until-img {
            visibility: hidden;
        }

        /*#endregion*/
    </style>
</head>

<body>
<div id="loader" style="
  position:fixed; left:0; top:0; width:100vw; height:100vh;
  background:white; color:#222; display:flex; flex-direction:column; align-items:center; justify-content:center; z-index:9999; font-family:sans-serif;">
  <span style="font-size:2rem; margin-bottom:2rem;">Loading presentation...</span>
  <div id="progress-bar-bg" style="width:60vw; height:1.5rem; background:#eee; border-radius:0.75rem; overflow:hidden;">
    <div id="progress-bar" style="width:0%; height:100%; background:#4a90e2; transition:width 0.2s;"></div>
  </div>
  <span id="progress-text" style="margin-top:1rem; font-size:1.2rem;">0%</span>
</div>

    <!-- #region =============== Slides =============== -->
    <div class="wave"></div>
    <div class="wave"></div>
    <div class="wave"></div>


    <div class="slideshow" id="slideshow">
        <!-- Slide 1 -->
        <div class="slide" id="slide1" style="padding-top: 15px; justify-content: flex-start;">
            <img src="selfintro/Andy5yo.jpg" alt="Andy at the age of 5"
                style="flex: 1; max-width: 98%; max-height: 98%;object-fit: contain;">
            <!-- Commented out button -->
            <!-- <button id="goto-slide1">Go to Slide X</button> -->

        </div>

        <!-- Slide 2 -->
        <div class="slide" id="slide2" style="display: none; padding-top: 15px; justify-content: flex-start;">
            <img data-src="selfintro/Toy Story.jpg" alt="Toy Story 3"
                style="flex: 1; max-width: 98%; max-height: 98%;object-fit: contain;">
        </div>

        <!-- Slide 3 -->
        <div class="slide" id="slide3" style="display: none; padding-top: 15px; justify-content: flex-start;">
            <img data-src="selfintro/toyandy.jpg" alt="Andy from Toy Story 3"
                style="flex: 1; max-width: 98%; max-height: 98%;object-fit: contain;">
        </div>

        <!-- Slide 4 -->
        <div class="slide" id="slide4" style="display: none; padding-top: 15px; justify-content: flex-start;">
            <img data-src="selfintro/Andy.JPG" alt="How old is Andy now?"
                style="flex: 1; max-width: 98%; max-height: 98%;object-fit: contain;">
        </div>

        <!-- Slide 5 -->
        <div class="slide" id="slide5"
            style="display: none; padding-top: 15px; justify-content: flex-start; height: 100vh;">
            <div style="display: flex; align-items: center; gap: 20px; max-width: 98%; height: 98%;">
                <img data-src="selfintro/ice-cream-cone.png" data-alt="Baskin Robbins?"
                    style="max-width: 70%; max-height: 98%; object-fit: contain;">
                <span class="age-calculator" data-birthdate="1981-08-10" data-offset="31" data-prefix="+"
                    style="font-size: 15vw; font-weight: bold;">
                </span>
            </div>
        </div>



        <!-- Slide 6 -->
        <div class="slide" id="slide6"
            style="display: none; padding-top: 15px; justify-content: flex-start; height: 100vh;">
            <div style="display: flex; align-items: center; gap: 20px; max-width: 98%; height: 98%;">
                <img data-src="selfintro/Noah.jpg" data-alt="Noah"
                    style="max-width: 80%; max-height: 98%; object-fit: contain;">

                <div style="display: flex; flex-direction: column; gap: 2rem;">
                    <p style="font-size: 5vw; font-weight: bold;">This is Noah.</p>
                    <span class="age-calculator" data-birthdate="2014-11-25" data-offset="0" data-prefix="He is "
                        data-suffix="." style="font-size: 5vw; font-weight: bold;">
                    </span>
                </div>
            </div>
        </div>
    



    <!-- Slide 7 -->
    <div class="slide" id="slide7"
        style="display: none; padding-top: 15px; justify-content: flex-start; height: 100vh;">
        <div style="display: flex; align-items: center; gap: 20px; max-width: 98%; height: 98%;">
            <img data-src="selfintro/Allan1.jpg" data-alt="Allan"
                style="max-width: 80%; max-height: 98%; object-fit: contain;">
            <div style="display: flex; flex-direction: column; gap: 2rem;">
                <p style="font-size: 5vw; font-weight: bold;">This is Allan.</p>
                <span class="age-calculator" data-birthdate="2018-07-18" data-offset="0" data-prefix="He is "
                    data-suffix="." style="font-size: 5vw; font-weight: bold;">
                </span>
            </div>
        </div>
    </div>

    <!-- Slide 8 -->
    <div class="slide" id="slide8"
        style="display: none; padding-top: 15px; justify-content: flex-start; height: 100vh;">
        <div style="display: flex; align-items: center; gap: 20px; max-width: 98%; height: 98%;">
            <img data-src="selfintro/Nina1.jpg" data-alt="Nina"
                style="max-width: 80%; max-height: 98%; object-fit: contain;">
            <div style="display: flex; flex-direction: column; gap: 2rem;">
                <p style="font-size: 5vw; font-weight: bold;">This is Nina.</p>
                <span class="age-calculator" data-birthdate="2020-10-02" data-offset="0" data-prefix="She is "
                    data-suffix="." style="font-size: 5vw; font-weight: bold;">
                </span>
            </div>
        </div>
    </div>


    <!-- Slide 9 -->
    <div class="slide" id="slide9" style="display: none; padding-top: 15px; justify-content: flex-start;">
        <img data-src="selfintro/family1.jpg" alt="my family"
            style="flex: 1; max-width: 98%; max-height: 98%;object-fit: contain;">
    </div>

    <!-- Slide 10 -->
    <div class="slide" id="slide10" style="display: none; padding-top: 15px; justify-content: flex-start;">
        <img data-src="selfintro/DenmarkFlag.jpg" alt="Where am I from?"
            style="flex: 1; max-width: 98%; max-height: 98%;object-fit: contain;">
    </div>

    <!-- Slide 11 -->
    <div class="slide comparison" id="slide11"
        style="display: none; padding-top: 15px; justify-content: center; align-items: center; text-align: center;">
        <div class="comparison-container">
            <h2 class="comparison-question">Which country is bigger?</h2>
            <div class="country-comparison">
                <div class="country-card">
                    <span class="country-name highlight">Japan</span>
                    <img src="selfintro/jp.png" alt="Japan Flag" class="country-flag">
                </div>

                <div class="vs-badge">VS</div>

                <div class="country-card">
                    <span class="country-name highlight">Denmark</span>
                    <img src="selfintro/dk.png" alt="Denmark Flag" class="country-flag">
                </div>
            </div>
        </div>
    </div>

    <!-- Slide 12 -->
    <div class="slide" id="slide12" style="display: none; padding-top: 15px; justify-content: flex-start;">
        <img data-src="selfintro/DenJap.PNG" alt="How old is Andy now?"
            style="flex: 1; max-width: 95%; max-height: 95%; object-fit: contain; background: rgba(255, 255, 255, 0.2); backdrop-filter: blur(10px); border-radius: 20px; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1); padding: 1px;">
    </div>


    <!-- Slide 13 -->
    <div class="slide" id="slide13"
        style="display: none; padding-top: 15px; justify-content: center; align-items: center;">
        <div class="thought-container" style="position: absolute; max-width: 95%; max-height: 95%;">

             <!-- Define clipPath once -->
        <svg style="position: absolute; width: 0; height: 0;">
            <defs>
                <clipPath id="bubbleClipReusable">
                    <path d="m250,1 c-27.103,0,-50.616,11.744,-63.768,29.088 c-12.203,-6.9299,-26.995,-11.12,-43.062,-11.12 c-41.35,0,-74.946,27.003,-74.946,60.239 c0,2.4423,0.564,4.7768,0.9162,7.1432 c-35.711,4.5799,-63.127,29.221,-63.127,59.208 c0,29.712,26.889,54.302,62.119,59.208 c-0.7138,3.336,-1.2827,6.7372,-1.2827,10.236 c0,33.236,33.596,60.165,74.946,60.165 c20.253,0,38.554,-6.5026,52.041,-17.011 c13.745,13.141,34.065,21.724,57.08,21.724 c32.837,0,60.442,-17.148,70.548,-40.797 c8.0886,2.4042,16.713,3.9766,25.837,3.9766 c41.35,0,74.854,-27.003,74.854,-60.239 c0,-16.713,-8.4769,-31.8,-22.172,-42.712 c6.9141,-9.1174,11.178,-19.699,11.178,-31.15 c0,-33.236,-33.596,-60.165,-74.946,-60.165 c-4.3528,0,-8.5851,0.3837,-12.735,0.9573 c-6.6771,-27.748,-37.017,-48.751,-73.48,-48.751 Z"/>
                </clipPath>
            </defs>
        </svg>

        <!-- Top Left Thought Bubble - simplified -->
        <div class="thought-bubble top-left">
            <svg viewBox="0 0 500 300">
                <image href="selfintro/sushi1.jpg" x="-10%" y="0%" width="100%" height="100%"
                    clip-path="url(#bubbleClipReusable)" />
                <path class="bubble-path"
                    d="m250,1 c-27.103,0,-50.616,11.744,-63.768,29.088 c-12.203,-6.9299,-26.995,-11.12,-43.062,-11.12 c-41.35,0,-74.946,27.003,-74.946,60.239 c0,2.4423,0.564,4.7768,0.9162,7.1432 c-35.711,4.5799,-63.127,29.221,-63.127,59.208 c0,29.712,26.889,54.302,62.119,59.208 c-0.7138,3.336,-1.2827,6.7372,-1.2827,10.236 c0,33.236,33.596,60.165,74.946,60.165 c20.253,0,38.554,-6.5026,52.041,-17.011 c13.745,13.141,34.065,21.724,57.08,21.724 c32.837,0,60.442,-17.148,70.548,-40.797 c8.0886,2.4042,16.713,3.9766,25.837,3.9766 c41.35,0,74.854,-27.003,74.854,-60.239 c0,-16.713,-8.4769,-31.8,-22.172,-42.712 c6.9141,-9.1174,11.178,-19.699,11.178,-31.15 c0,-33.236,-33.596,-60.165,-74.946,-60.165 c-4.3528,0,-8.5851,0.3837,-12.735,0.9573 c-6.6771,-27.748,-37.017,-48.751,-73.48,-48.751 Z">
                </path>
            </svg>
        </div>

         <!-- Top Right Thought Bubble - now just references the same clipPath -->
        <div class="thought-bubble top-right">
            <svg viewBox="0 0 500 300">
                <image href="selfintro/kimono1.jpg" x="-10%" y="0%" width="100%" height="100%"
                    clip-path="url(#bubbleClipReusable)" />
                <path class="bubble-path"
                    d="m250,1 c-27.103,0,-50.616,11.744,-63.768,29.088 c-12.203,-6.9299,-26.995,-11.12,-43.062,-11.12 c-41.35,0,-74.946,27.003,-74.946,60.239 c0,2.4423,0.564,4.7768,0.9162,7.1432 c-35.711,4.5799,-63.127,29.221,-63.127,59.208 c0,29.712,26.889,54.302,62.119,59.208 c-0.7138,3.336,-1.2827,6.7372,-1.2827,10.236 c0,33.236,33.596,60.165,74.946,60.165 c20.253,0,38.554,-6.5026,52.041,-17.011 c13.745,13.141,34.065,21.724,57.08,21.724 c32.837,0,60.442,-17.148,70.548,-40.797 c8.0886,2.4042,16.713,3.9766,25.837,3.9766 c41.35,0,74.854,-27.003,74.854,-60.239 c0,-16.713,-8.4769,-31.8,-22.172,-42.712 c6.9141,-9.1174,11.178,-19.699,11.178,-31.15 c0,-33.236,-33.596,-60.165,-74.946,-60.165 c-4.3528,0,-8.5851,0.3837,-12.735,0.9573 c-6.6771,-27.748,-37.017,-48.751,-73.48,-48.751 Z">
                </path>
            </svg>
        </div>


            <!-- Center Japanese Flag -->
            <div class="japan-flag">
                <img src="selfintro/Japan.jpg" alt="Japanese Flag">
            </div>
        </div>

        <!-- Bottom Left Thought Bubble -->
        <div class="thought-bubble bottom-left">
            <svg viewBox="0 0 500 300">
                <image href="selfintro/Fuji1.jpg" x="-10%" y="0%" width="100%" height="100%"
                    clip-path="url(#bubbleClipReusable)" />

                <!-- Bubble outline -->
                <path class="bubble-path"
                    d="m250,1 c-27.103,0,-50.616,11.744,-63.768,29.088 c-12.203,-6.9299,-26.995,-11.12,-43.062,-11.12 c-41.35,0,-74.946,27.003,-74.946,60.239 c0,2.4423,0.564,4.7768,0.9162,7.1432 c-35.711,4.5799,-63.127,29.221,-63.127,59.208 c0,29.712,26.889,54.302,62.119,59.208 c-0.7138,3.336,-1.2827,6.7372,-1.2827,10.236 c0,33.236,33.596,60.165,74.946,60.165 c20.253,0,38.554,-6.5026,52.041,-17.011 c13.745,13.141,34.065,21.724,57.08,21.724 c32.837,0,60.442,-17.148,70.548,-40.797 c8.0886,2.4042,16.713,3.9766,25.837,3.9766 c41.35,0,74.854,-27.003,74.854,-60.239 c0,-16.713,-8.4769,-31.8,-22.172,-42.712 c6.9141,-9.1174,11.178,-19.699,11.178,-31.15 c0,-33.236,-33.596,-60.165,-74.946,-60.165 c-4.3528,0,-8.5851,0.3837,-12.735,0.9573 c-6.6771,-27.748,-37.017,-48.751,-73.48,-48.751 Z">
                </path>
            </svg>
        </div>

        <!-- Bottom Right Thought Bubble -->
        <div class="thought-bubble bottom-right">
            <svg viewBox="0 0 500 300">
  

                <!-- Clipped image -->
                <image href="selfintro/Shrine1.jpg" x="-25%" y="-25%" width="140%" height="140%"
                   clip-path="url(#bubbleClipReusable)" />

                <!-- Bubble outline -->
                <path class="bubble-path"
                    d="m250,1 c-27.103,0,-50.616,11.744,-63.768,29.088 c-12.203,-6.9299,-26.995,-11.12,-43.062,-11.12 c-41.35,0,-74.946,27.003,-74.946,60.239 c0,2.4423,0.564,4.7768,0.9162,7.1432 c-35.711,4.5799,-63.127,29.221,-63.127,59.208 c0,29.712,26.889,54.302,62.119,59.208 c-0.7138,3.336,-1.2827,6.7372,-1.2827,10.236 c0,33.236,33.596,60.165,74.946,60.165 c20.253,0,38.554,-6.5026,52.041,-17.011 c13.745,13.141,34.065,21.724,57.08,21.724 c32.837,0,60.442,-17.148,70.548,-40.797 c8.0886,2.4042,16.713,3.9766,25.837,3.9766 c41.35,0,74.854,-27.003,74.854,-60.239 c0,-16.713,-8.4769,-31.8,-22.172,-42.712 c6.9141,-9.1174,11.178,-19.699,11.178,-31.15 c0,-33.236,-33.596,-60.165,-74.946,-60.165 c-4.3528,0,-8.5851,0.3837,-12.735,0.9573 c-6.6771,-27.748,-37.017,-48.751,-73.48,-48.751 Z">
                </path>
            </svg>
        </div>

    </div>


    <!-- Slide 14 -->
    <div class="slide" id="slide14"
        style="display: none; padding-top: 15px; justify-content: center; align-items: center;">
        <div class="thought-container" style="position: absolute; width: 95%; height: 95%;">

            <!-- Top Left Thought Bubble -->
            <div class="thought-bubble top-left">
                <svg viewBox="0 0 500 300">
                    <path class="bubble-path"
                        d="m250,1 c-27.103,0,-50.616,11.744,-63.768,29.088 c-12.203,-6.9299,-26.995,-11.12,-43.062,-11.12 c-41.35,0,-74.946,27.003,-74.946,60.239 c0,2.4423,0.564,4.7768,0.9162,7.1432 c-35.711,4.5799,-63.127,29.221,-63.127,59.208 c0,29.712,26.889,54.302,62.119,59.208 c-0.7138,3.336,-1.2827,6.7372,-1.2827,10.236 c0,33.236,33.596,60.165,74.946,60.165 c20.253,0,38.554,-6.5026,52.041,-17.011 c13.745,13.141,34.065,21.724,57.08,21.724 c32.837,0,60.442,-17.148,70.548,-40.797 c8.0886,2.4042,16.713,3.9766,25.837,3.9766 c41.35,0,74.854,-27.003,74.854,-60.239 c0,-16.713,-8.4769,-31.8,-22.172,-42.712 c6.9141,-9.1174,11.178,-19.699,11.178,-31.15 c0,-33.236,-33.596,-60.165,-74.946,-60.165 c-4.3528,0,-8.5851,0.3837,-12.735,0.9573 c-6.6771,-27.748,-37.017,-48.751,-73.48,-48.751 Z" />
                </svg>
            </div>

            <!-- Top Right Thought Bubble -->
            <div class="thought-bubble top-right">
                <svg viewBox="0 0 500 300">
                    <path class="bubble-path"
                        d="m250,1 c-27.103,0,-50.616,11.744,-63.768,29.088 c-12.203,-6.9299,-26.995,-11.12,-43.062,-11.12 c-41.35,0,-74.946,27.003,-74.946,60.239 c0,2.4423,0.564,4.7768,0.9162,7.1432 c-35.711,4.5799,-63.127,29.221,-63.127,59.208 c0,29.712,26.889,54.302,62.119,59.208 c-0.7138,3.336,-1.2827,6.7372,-1.2827,10.236 c0,33.236,33.596,60.165,74.946,60.165 c20.253,0,38.554,-6.5026,52.041,-17.011 c13.745,13.141,34.065,21.724,57.08,21.724 c32.837,0,60.442,-17.148,70.548,-40.797 c8.0886,2.4042,16.713,3.9766,25.837,3.9766 c41.35,0,74.854,-27.003,74.854,-60.239 c0,-16.713,-8.4769,-31.8,-22.172,-42.712 c6.9141,-9.1174,11.178,-19.699,11.178,-31.15 c0,-33.236,-33.596,-60.165,-74.946,-60.165 c-4.3528,0,-8.5851,0.3837,-12.735,0.9573 c-6.6771,-27.748,-37.017,-48.751,-73.48,-48.751 Z">
                    </path>
                </svg>
            </div>

            <!-- Center Danish Flag -->
            <div class="denmark-flag">
                <img src="selfintro/dk.png" alt="Japanese Flag">
            </div>
        </div>

        <!-- Bottom Left Thought Bubble -->
        <div class="thought-bubble bottom-left">
            <svg viewBox="0 0 500 300">
                <path class="bubble-path"
                    d="m250,1 c-27.103,0,-50.616,11.744,-63.768,29.088 c-12.203,-6.9299,-26.995,-11.12,-43.062,-11.12 c-41.35,0,-74.946,27.003,-74.946,60.239 c0,2.4423,0.564,4.7768,0.9162,7.1432 c-35.711,4.5799,-63.127,29.221,-63.127,59.208 c0,29.712,26.889,54.302,62.119,59.208 c-0.7138,3.336,-1.2827,6.7372,-1.2827,10.236 c0,33.236,33.596,60.165,74.946,60.165 c20.253,0,38.554,-6.5026,52.041,-17.011 c13.745,13.141,34.065,21.724,57.08,21.724 c32.837,0,60.442,-17.148,70.548,-40.797 c8.0886,2.4042,16.713,3.9766,25.837,3.9766 c41.35,0,74.854,-27.003,74.854,-60.239 c0,-16.713,-8.4769,-31.8,-22.172,-42.712 c6.9141,-9.1174,11.178,-19.699,11.178,-31.15 c0,-33.236,-33.596,-60.165,-74.946,-60.165 c-4.3528,0,-8.5851,0.3837,-12.735,0.9573 c-6.6771,-27.748,-37.017,-48.751,-73.48,-48.751 Z">
                </path>
            </svg>
        </div>

        <!-- Bottom Right Thought Bubble -->
        <div class="thought-bubble bottom-right">
            <svg viewBox="0 0 500 300">
                <path class="bubble-path"
                    d="m250,1 c-27.103,0,-50.616,11.744,-63.768,29.088 c-12.203,-6.9299,-26.995,-11.12,-43.062,-11.12 c-41.35,0,-74.946,27.003,-74.946,60.239 c0,2.4423,0.564,4.7768,0.9162,7.1432 c-35.711,4.5799,-63.127,29.221,-63.127,59.208 c0,29.712,26.889,54.302,62.119,59.208 c-0.7138,3.336,-1.2827,6.7372,-1.2827,10.236 c0,33.236,33.596,60.165,74.946,60.165 c20.253,0,38.554,-6.5026,52.041,-17.011 c13.745,13.141,34.065,21.724,57.08,21.724 c32.837,0,60.442,-17.148,70.548,-40.797 c8.0886,2.4042,16.713,3.9766,25.837,3.9766 c41.35,0,74.854,-27.003,74.854,-60.239 c0,-16.713,-8.4769,-31.8,-22.172,-42.712 c6.9141,-9.1174,11.178,-19.699,11.178,-31.15 c0,-33.236,-33.596,-60.165,-74.946,-60.165 c-4.3528,0,-8.5851,0.3837,-12.735,0.9573 c-6.6771,-27.748,-37.017,-48.751,-73.48,-48.751 Z">
                </path>
            </svg>
        </div>
    </div>

    <!-- Slide 15 -->
    <div class="slide" id="slide15" style="display: none; padding-top: 15px; justify-content: flex-start;">
        <img data-src="selfintro/lego1.jpg" alt="Lego Blocks"
            style="flex: 1; max-width: 95%; max-height: 95%;object-fit: contain;">
    </div>

    <!-- Slide 16 -->
    <div class="slide" id="slide16" style="display: none; padding-top: 15px; justify-content: flex-start;">
        <img data-src="selfintro/lego2.JPG" alt="Lego Blocks"
            style="flex: 1; max-width: 95%; max-height: 95%;object-fit: contain;">
    </div>

    <!-- Slide 17 -->
    <div class="slide" id="slide17" style="display: none; padding-top: 15px; justify-content: flex-start;">
        <img data-src="selfintro/lego3.JPG" alt="Lego Blocks"
            style="flex: 1; max-width: 95%; max-height: 95%;object-fit: contain;">
    </div>

    <!-- Slide 18 -->
    <div class="slide" id="slide18"
        style="display: none; padding-top: 15px; justify-content: flex-start; height: 100vh;">
        <div style="display: flex; align-items: center; gap: 20px; max-width: 98%; height: 98%;">
            <img data-src="selfintro/sports.png" data-alt="sports"
                style="max-width: 80%; max-height: 98%; object-fit: contain;">
            <div style="display: flex; flex-direction: column; gap: 2rem;">
                <p style="font-size: 5vw; font-weight: regular;">What sport do you like?</p>
            </div>
        </div>
    </div>

    <!-- Slide 19 -->
    <div class="slide" id="slide19" style="display: none; padding-top: 15px; justify-content: flex-start;">
        <img data-src="selfintro/poi1.jpg" alt="poi"
            style="flex: 1; max-width: 98%; max-height: 98%;object-fit: contain;">
    </div>

    <!-- Slide 20 -->
    <div class="slide" id="slide20" style="display: none; padding-top: 15px; justify-content: flex-start;">
        <img data-src="selfintro/poi2.JPG" alt="poi2"
            style="flex: 1; max-width: 98%; max-height: 98%;object-fit: contain;">
    </div>

    <!-- Slide 21 -->
    <div class="slide" id="slide21" style="display: none; padding-top: 15px; justify-content: flex-start;">
        <img data-src="selfintro/poi3.JPG" alt="poi3"
            style="flex: 1; max-width: 98%; max-height: 98%;object-fit: contain;">
    </div>

    <!-- Slide 22 -->
    <div class="slide" id="slide22" style="display: none; padding-top: 15px; justify-content: flex-start;">
        <div>
            <span class="questions">A</span>
            <span class="questions">N</span>
            <span class="questions">Y</span>
            <span class="questions"> </span>
            <span class="questions">Q</span>
            <span class="questions">U</span>
            <span class="questions">E</span>
            <span class="questions">S</span>
            <span class="questions">T</span>
            <span class="questions">I</span>
            <span class="questions">O</span>
            <span class="questions">N</span>
            <span class="questions">S</span>
            <span class="questions">?</span>
        </div>
    </div>


    </div>

    <!-- #endregion -->

 <script>

    //#region =============== Scripts ===============  -->     
    // --- Preload all images before starting the slideshow ---
    const imageUrls = [
        'selfintro/Andy5yo.jpg',
        'selfintro/Toy Story.jpg',
        'selfintro/toyandy.jpg',
        'selfintro/Andy.JPG',
        'selfintro/ice-cream-cone.png',
        'selfintro/Noah.jpg',
        'selfintro/Allan1.jpg',
        'selfintro/Nina1.jpg',
        'selfintro/family1.jpg',
        'selfintro/DenmarkFlag.jpg',
        'selfintro/jp.png',
        'selfintro/dk.png',
        'selfintro/DenJap.PNG',
        'selfintro/sushi1.jpg',
        'selfintro/kimono1.jpg',
        'selfintro/Fuji1.jpg',
        'selfintro/Shrine1.jpg',
        'selfintro/lego1.jpg',
        'selfintro/lego2.jpg',
        'selfintro/lego3.jpg',
        'selfintro/sports.png',
        'selfintro/poi1.jpg',
        'selfintro/poi2.JPG',
        'selfintro/poi3.JPG',
        'selfintro/Japan.jpg'
    ];

    let loaded = 0;
const progressBar = document.getElementById('progress-bar');
const progressText = document.getElementById('progress-text');

function updateProgress() {
  const percent = Math.round((loaded / imageUrls.length) * 100);
  progressBar.style.width = percent + '%';
  progressText.textContent = percent + '%';
}

    function preloadImages(urls, allDone) {
        let loaded = 0;
        if (urls.length === 0) allDone();
        urls.forEach(url => {
            const img = new Image();
            img.onload = img.onerror = function () {
                loaded++;
                if (loaded === urls.length) allDone();
            };
            img.src = url;
        });
    }

document.querySelectorAll('.slide').forEach(slide => slide.style.display = 'none');

preloadImages(imageUrls, function() {
  document.getElementById('loader').style.display = 'none';
  document.getElementById('slide1').style.display = 'flex';
  window.slideshow = new Slideshow(22);
});
updateProgress();


    class Slideshow {
        constructor(totalSlides) {
            this.currentSlide = 1;
            this.totalSlides = totalSlides;
            this.revealIndexes = {};
            this.isSelecting = false;
            this.startX = 0;
            this.startY = 0;
            
            // Cache DOM elements
            this.slides = {};
            this.slideshow = document.getElementById('slideshow');
            
            this.init();
        }

        init() {
            // Cache all slide elements upfront
            this.cacheSlideElements();
            
            // Use event delegation instead of adding listeners to each slide
            this.slideshow.addEventListener('click', (e) => this.handleSlideClick(e));
            
            document.addEventListener('keydown', (e) => this.handleKeyPress(e));
            document.addEventListener('mousedown', (e) => this.handleMouseDown(e));
            document.addEventListener('mouseup', (e) => this.handleMouseUp(e));

            // Initialize first slide
            this.slides[1].style.display = 'flex';
        }

        cacheSlideElements() {
            // Cache all slide elements to avoid repeated DOM queries
            for (let i = 1; i <= this.totalSlides; i++) {
                this.slides[i] = document.getElementById(`slide${i}`);
            }
        }

        handleSlideClick(e) {
            // Check if click came from a slide (event delegation)
            const slideElement = e.target.closest('.slide');
            if (!slideElement) return;
            
            const currentSlideElement = this.slides[this.currentSlide];
            const revealElements = currentSlideElement.querySelectorAll('.reveal-text');

            if (!this.revealIndexes[this.currentSlide]) {
                this.revealIndexes[this.currentSlide] = 0;
            }

            if (revealElements.length > 0) {
                if (this.revealIndexes[this.currentSlide] < revealElements.length) {
                    revealElements[this.revealIndexes[this.currentSlide]].classList.remove('hidden');
                    this.revealIndexes[this.currentSlide]++;
                    return;
                }
            }

            this.revealIndexes[this.currentSlide] = 0;
            this.nextSlide(e);
        }

        nextSlide(e) {
            if (!e || (!this.isSelecting)) {
                // Use cached elements instead of DOM queries
                this.slides[this.currentSlide].style.display = 'none';
                this.currentSlide = this.currentSlide >= this.totalSlides ? 1 : this.currentSlide + 1;
                this.resetRevealState(this.currentSlide);
                
                const nextSlide = this.slides[this.currentSlide];
                nextSlide.style.display = 'flex';

                // Batch DOM operations
                this.loadSlideContent(nextSlide);
            }
        }

        prevSlide() {
            // Use cached elements
            this.slides[this.currentSlide].style.display = 'none';
            this.currentSlide = this.currentSlide <= 1 ? this.totalSlides : this.currentSlide - 1;
            this.resetRevealState(this.currentSlide);
            
            const prevSlide = this.slides[this.currentSlide];
            prevSlide.style.display = 'flex';

            // Batch DOM operations
            this.loadSlideContent(prevSlide);
        }

        loadSlideContent(slideElement) {
            // Load images
            const images = slideElement.querySelectorAll('img[data-src]');
            images.forEach(img => {
                img.src = img.dataset.src;
                img.removeAttribute('data-src');
            });

            // Load text
            const textElements = slideElement.querySelectorAll('[data-content]');
            textElements.forEach(element => {
                element.textContent = element.dataset.content;
                element.removeAttribute('data-content');
            });

            // Load age calculators
            this.updateAgeCalculators();

            // Handle delayed images
            this.swapInDelayedImages(slideElement);
        }

        handleKeyPress(e) {
            if (e.key === 'ArrowRight') {
                const currentSlideElement = this.slides[this.currentSlide];
                const revealElements = currentSlideElement.querySelectorAll('.reveal-text');

                if (!this.revealIndexes[this.currentSlide]) {
                    this.revealIndexes[this.currentSlide] = 0;
                }

                if (revealElements.length > 0) {
                    if (this.revealIndexes[this.currentSlide] < revealElements.length) {
                        revealElements[this.revealIndexes[this.currentSlide]].classList.remove('hidden');
                        this.revealIndexes[this.currentSlide]++;
                        return;
                    }
                }
                this.nextSlide();
            }
            if (e.key === 'ArrowLeft') this.prevSlide();
        }

        handleMouseDown(e) {
            this.isSelecting = true;
            this.startX = e.clientX;
            this.startY = e.clientY;
        }

        handleMouseUp(e) {
            const moveX = Math.abs(e.clientX - this.startX);
            const moveY = Math.abs(e.clientY - this.startY);

            if (moveX < 5 && moveY < 5) {
                this.isSelecting = false;
            } else {
                setTimeout(() => {
                    this.isSelecting = false;
                }, 100);
            }
        }

        resetRevealState(slideNumber) {
            const slideElement = this.slides[slideNumber];
            const revealElements = slideElement.querySelectorAll('.reveal-text');
            revealElements.forEach(element => {
                element.classList.add('hidden');
            });
            this.revealIndexes[slideNumber] = 0;
        }

        updateAgeCalculators() {
            // Cache the current slide's age calculators to avoid querying all slides
            const currentSlideElement = this.slides[this.currentSlide];
            const ageCalculators = currentSlideElement.querySelectorAll('.age-calculator');
            
            ageCalculators.forEach(element => {
                const birthDate = new Date(element.dataset.birthdate);
                const offset = parseInt(element.dataset.offset);
                const prefix = element.dataset.prefix || '';
                const suffix = element.dataset.suffix || '';
                const now = new Date();
                const diff = now - birthDate;
                const age = Math.floor(diff / (1000 * 60 * 60 * 24 * 365.25)) - offset;
                element.textContent = prefix + age + suffix;
            });
        }

        swapInDelayedImages(slideElement) {
            slideElement.querySelectorAll('img.delayed-img[data-src]').forEach(function (img) {
                if (!img.src || img.src.indexOf(img.dataset.src) === -1) {
                    img.src = img.dataset.src;
                    img.removeAttribute('data-src');
                }
                img.addEventListener('load', function handler() {
                    const placeholder = img.parentElement.querySelector('.placeholder-img');
                    if (placeholder) placeholder.style.display = 'none';
                    img.removeEventListener('load', handler);
                });
            });
        }
    }



    // Hide all slides until loaded
    document.querySelectorAll('.slide').forEach(slide => slide.style.display = 'none');

    preloadImages(imageUrls, function () {
        document.getElementById('loader').style.display = 'none';
        // Show the first slide
        document.getElementById('slide1').style.display = 'flex';
        // Now start the slideshow
        window.slideshow = new Slideshow(22);
    });

    // Add event listener to button (if the button exists)
    document.addEventListener('DOMContentLoaded', () => {
        const gotoButton = document.getElementById('goto-slide1');
        if (gotoButton) {
            gotoButton.addEventListener('click', (e) => {
                e.stopPropagation();
                window.slideshow.slides[window.slideshow.currentSlide].style.display = 'none';
                window.slideshow.currentSlide = 22;
                window.slideshow.slides[window.slideshow.currentSlide].style.display = 'flex';
            });
        }
    });

    // Global functions for backward compatibility (if needed elsewhere)
    function resetRevealState(slideNumber) {
        if (window.slideshow) {
            window.slideshow.resetRevealState(slideNumber);
        }
    }

    function updateAgeCalculators() {
        if (window.slideshow) {
            window.slideshow.updateAgeCalculators();
        }
    }

    function swapInDelayedImages(slideElement) {
        if (window.slideshow) {
            window.slideshow.swapInDelayedImages(slideElement);
        }
    }

    //#endregion

</script>

</body>

</html>