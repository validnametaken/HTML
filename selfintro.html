<html>

<head>
    <style>
        /* #region =============== Background =============== */

        body {
            margin: auto;
            font-family: -apple-system, BlinkMacSystemFont, sans-serif;
            overflow: auto;
            background: linear-gradient(315deg, rgba(101, 0, 94, 1) 3%, rgb(13, 28, 43) 38%, rgb(11, 53, 50) 68%, rgb(70, 8, 8) 98%);
            animation: gradient 200s ease infinite;
            background-size: 400% 400%;
            background-attachment: fixed;
        }

        @keyframes gradient {
            0% {
                background-position: 0% 0%;
            }

            50% {
                background-position: 100% 100%;
            }

            100% {
                background-position: 0% 0%;
            }
        }

        /*#endregion*/
        /* #region =============== Slides =============== */
        html {
            font-size: 10px;
            color: #ffffff;
        }

        h1 {
            font-size: 4rem;
            /* 40px */
        }

        h2 {
            font-size: 3rem;
            /* 30px */
        }

        h3 {
            font-size: 2.5rem;
            /* 25px */
        }

        p {
            font-size: 2rem;
            /* 20px */
        }

        .slideshow {
            position: relative;
            width: 100vw;
            height: 100vh;
            border: none;
        }

        .slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: transparent;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            transition: opacity 0.5s ease-in-out;
            padding: 0px;
            box-sizing: border-box;
            gap: 30px;
        }


        body {
            margin: 0;
            padding: 0;
        }

        h1,
        p {
            margin: 0;
            line-height: 1;
        }

        .slide.active {
            display: flex;
        }

        .hidden {
            opacity: 0;
        }

        .reveal-text {
            transition: opacity 0.5s ease-in-out;
        }

        /*#endregion*/
        /* #region =============== Waves =============== */

        .wave {
            background: rgb(255 255 255 / 5%);
            border-radius: 1000% 1000% 0 0;
            position: fixed;
            width: 200%;
            height: 12em;
            animation: wave 30s -3s linear infinite;
            transform: translate3d(0, 0, 0);
            opacity: 0.8;
            bottom: 0;
            left: 0;
            z-index: -2;
        }

        .wave:nth-of-type(2) {
            bottom: -1.25em;
            animation: wave 18s linear reverse infinite;
            opacity: 0.8;
        }

        .wave:nth-of-type(3) {
            bottom: -2.5em;
            animation: wave 20s -1s reverse infinite;
            opacity: 0.9;
        }

        @keyframes wave {
            2% {
                transform: translateX(1);
            }

            25% {
                transform: translateX(-25%);
            }

            50% {
                transform: translateX(-50%);
            }

            75% {
                transform: translateX(-25%);
            }

            100% {
                transform: translateX(1);
            }
        }

        /*#endregion*/
    </style>
</head>

<body>

    <!-- #region =============== Slides =============== -->
    <div class="wave"></div>
    <div class="wave"></div>
    <div class="wave"></div>


    <div class="slideshow" id="slideshow">
        <!-- Slide 1 -->
        <div class="slide" id="slide1" style="padding-top: 15px; justify-content: flex-start;">
            <img src="selfintro/Andy5yo.jpg" alt="Andy at the age of 5" 
                style="flex: 1; max-width: 80%; max-height: 80%;object-fit: contain;">
            <p class="reveal-text hidden photo-caption" style="font-size: 3rem;">5 years old</p>
        </div>

        <!-- Slide 2 -->
        <div class="slide" id="slide2" style="display: none; padding-top: 15px; justify-content: flex-start;">
            <img data-src="selfintro/Toy Story.jpg" alt="Toy Story 3" 
                style="flex: 1; max-width: 80%; max-height: 80%;object-fit: contain;">
        </div>

        <!-- Slide 3 -->
        <div class="slide" id="slide3" style="display: none; padding-top: 15px; justify-content: flex-start;">
            <img data-src="selfintro/toyandy.jpg" alt="Andy from Toy Story 3" 
                style="flex: 1; max-width: 80%; max-height: 80%;object-fit: contain;">
                <p class="reveal-text hidden photo-caption" style="font-size: 3rem;">↑&nbsp;&nbsp;&nbsp;&nbsp;Andy&nbsp;&nbsp;&nbsp;&nbsp;↑</p>
        </div>

        <!-- Slide 4 -->
        <div class="slide" id="slide4" style="display: none; padding-top: 15px; justify-content: flex-start;">
            <img data-src="selfintro/Andy.JPG" alt="How old is Andy now?" 
                style="flex: 1; max-width: 80%; max-height: 80%;object-fit: contain;">
        </div>

            <!-- Slide 5 -->
            <div class="slide" id="slide5" style="display: none; padding-top: 15px; justify-content: flex-start;">
                <div style="display: flex; gap: 20px;">
                    <img data-src="selfintro/ice-cream-cone.png" data-alt="Baskin Robbins?" 
                        style="max-width: 80%; max-height: 80%; object-fit: contain;">
                    <!-- <span data-content="+12" style="font-size: 8rem; font-weight: bold;"></span> -->
                </div>
                <p data-content="↑&nbsp;&nbsp;&nbsp;&nbsp;Hint&nbsp;&nbsp;&nbsp;&nbsp;↑" style="font-size: 3rem;"></p>
            </div>
            
            

                <!-- Slide 6 -->
                <div class="slide" id="slide6" style="display: none;">
                    <h1>Slide 6</h1>
                    <p>This is the fourth slide.</p>
                </div>


                    <!-- Slide 7 -->
        <div class="slide" id="slide7" style="display: none;">
            <h1>Slide 7</h1>
            <p>This is the fourth slide.</p>
        </div>
 
            <!-- Slide 8 -->
            <div class="slide" id="slide8" style="display: none;">
                <h1>Slide 8</h1>
                <p>This is the fourth slide.</p>
            </div>



        </div>
    <!-- #endregion -->

    <script>

        //#region =============== Scripts ===============  -->     
        class Slideshow {
            constructor(totalSlides) {
                this.currentSlide = 1;
                this.totalSlides = totalSlides;
                this.revealIndexes = {};
                this.isSelecting = false;
                this.startX = 0;
                this.startY = 0;

                this.init();
            }

            init() {
                document.getElementById('slideshow').addEventListener('click', (e) => this.handleSlideClick(e));
                document.addEventListener('keydown', (e) => this.handleKeyPress(e));
                document.addEventListener('mousedown', (e) => this.handleMouseDown(e));
                document.addEventListener('mouseup', (e) => this.handleMouseUp(e));

                // Initialize first slide
                document.getElementById('slide1').style.display = 'flex';
            }

            handleSlideClick(e) {
                const currentSlideElement = document.getElementById(`slide${this.currentSlide}`);
                const revealElements = currentSlideElement.querySelectorAll('.reveal-text');

                if (!this.revealIndexes[this.currentSlide]) {
                    this.revealIndexes[this.currentSlide] = 0;
                }

                if (revealElements.length > 0) {
                    if (this.revealIndexes[this.currentSlide] < revealElements.length) {
                        revealElements[this.revealIndexes[this.currentSlide]].classList.remove('hidden');
                        this.revealIndexes[this.currentSlide]++;
                        return;
                    }
                }

                this.revealIndexes[this.currentSlide] = 0;
                this.nextSlide(e);
            }

            nextSlide(e) {
    if (!e || (e.target && e.target.classList.contains('slide') && !this.isSelecting)) {
        document.getElementById(`slide${this.currentSlide}`).style.display = 'none';
        this.currentSlide = this.currentSlide >= this.totalSlides ? 1 : this.currentSlide + 1;
        resetRevealState(this.currentSlide);
        const nextSlide = document.getElementById(`slide${this.currentSlide}`);
        nextSlide.style.display = 'flex';
        
        // Load images
        const images = nextSlide.querySelectorAll('img[data-src]');
        images.forEach(img => {
            img.src = img.dataset.src;
            img.removeAttribute('data-src');
        });

        // Load text
        const textElements = nextSlide.querySelectorAll('[data-content]');
        textElements.forEach(element => {
            element.textContent = element.dataset.content;
            element.removeAttribute('data-content');
        });
    }
}


            prevSlide() {
                document.getElementById(`slide${this.currentSlide}`).style.display = 'none';
                this.currentSlide = this.currentSlide <= 1 ? this.totalSlides : this.currentSlide - 1;
                resetRevealState(this.currentSlide); // Add this line
                document.getElementById(`slide${this.currentSlide}`).style.display = 'flex';
            }

            handleKeyPress(e) {
    if (e.key === 'ArrowRight') {
        const currentSlideElement = document.getElementById(`slide${this.currentSlide}`);
        const revealElements = currentSlideElement.querySelectorAll('.reveal-text');

        if (!this.revealIndexes[this.currentSlide]) {
            this.revealIndexes[this.currentSlide] = 0;
        }

        if (revealElements.length > 0) {
            if (this.revealIndexes[this.currentSlide] < revealElements.length) {
                revealElements[this.revealIndexes[this.currentSlide]].classList.remove('hidden');
                this.revealIndexes[this.currentSlide]++;
                return;
            }
        }
        this.nextSlide();
    }
    if (e.key === 'ArrowLeft') this.prevSlide();
}

            handleMouseDown(e) {
                this.isSelecting = true;
                this.startX = e.clientX;
                this.startY = e.clientY;
            }

            handleMouseUp(e) {
                const moveX = Math.abs(e.clientX - this.startX);
                const moveY = Math.abs(e.clientY - this.startY);

                if (moveX < 5 && moveY < 5) {
                    this.isSelecting = false;
                } else {
                    setTimeout(() => {
                        this.isSelecting = false;
                    }, 100);
                }
            }
        }

        // Initialize the slideshow
        const slideshow = new Slideshow(8);

        // Add event listener to button
        document.getElementById('goto-slide1').addEventListener('click', (e) => {
            e.stopPropagation(); // Prevent the nextSlide function from being called
            // Hide current slide
            document.getElementById(`slide${slideshow.currentSlide}`).style.display = 'none';
            // Show slide 1
            slideshow.currentSlide = 1;
            document.getElementById(`slide${slideshow.currentSlide}`).style.display = 'flex';
        });

        function resetRevealState(slideNumber) {
            const slideElement = document.getElementById(`slide${slideNumber}`);
            const revealElements = slideElement.querySelectorAll('.reveal-text');
            revealElements.forEach(element => {
                element.classList.add('hidden');
            });
            slideshow.revealIndexes[slideNumber] = 0;
        }

        //#endregion

    </script>
</body>

</html>